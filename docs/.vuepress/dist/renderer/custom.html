<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://listr2.kilic.dev/renderer/custom.html"><meta property="og:site_name" content="listr2"><meta property="og:title" content="Custom Renderer"><meta property="og:description" content="You can create a custom renderer that is fit for your application. Implement or Extend the Default Listr Renderer code{-14} typescript (../../examples/docs/renderer/custom/creat..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="article:author" content="Cenk KÄ±lÄ±Ã§"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Custom Renderer","image":[""],"dateModified":null,"author":[{"@type":"Person","name":"Cenk KÄ±lÄ±Ã§","url":"https://cenk.kilic.dev","email":"cenk@kilic.dev"}]}</script><link rel="icon" href="https://main.s3.kilic.dev/html/favicon.ico"><title>Custom Renderer | listr2</title><meta name="description" content="You can create a custom renderer that is fit for your application. Implement or Extend the Default Listr Renderer code{-14} typescript (../../examples/docs/renderer/custom/creat...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-3035e635.css" as="style"><link rel="stylesheet" href="/assets/style-3035e635.css">
    <link rel="modulepreload" href="/assets/app-bf504b0c.js"><link rel="modulepreload" href="/assets/framework-4c9bc095.js"><link rel="modulepreload" href="/assets/custom.html-0902ee39.js"><link rel="modulepreload" href="/assets/custom.html-2f3999fd.js"><link rel="prefetch" href="/assets/index.html-e36f76dd.js" as="script"><link rel="prefetch" href="/assets/index.html-9d8887bc.js" as="script"><link rel="prefetch" href="/assets/context.html-bbd96443.js" as="script"><link rel="prefetch" href="/assets/environment.html-dc31edf7.js" as="script"><link rel="prefetch" href="/assets/examples.html-7e1c64f5.js" as="script"><link rel="prefetch" href="/assets/installation.html-f13bccaf.js" as="script"><link rel="prefetch" href="/assets/new-listr.html-ec32bdde.js" as="script"><link rel="prefetch" href="/assets/task-options.html-1ee3ef3f.js" as="script"><link rel="prefetch" href="/assets/task.html-1518d899.js" as="script"><link rel="prefetch" href="/assets/index.html-a2a31aa6.js" as="script"><link rel="prefetch" href="/assets/v6.html-c661dac3.js" as="script"><link rel="prefetch" href="/assets/index.html-071efd05.js" as="script"><link rel="prefetch" href="/assets/default.html-4cf45af8.js" as="script"><link rel="prefetch" href="/assets/fallback-condition.html-5fc81f00.js" as="script"><link rel="prefetch" href="/assets/simple.html-3bc4a665.js" as="script"><link rel="prefetch" href="/assets/test.html-b1edb3ce.js" as="script"><link rel="prefetch" href="/assets/verbose.html-a40ec0e5.js" as="script"><link rel="prefetch" href="/assets/changelog.html-2f4da8ef.js" as="script"><link rel="prefetch" href="/assets/contributions.html-c2c1cd07.js" as="script"><link rel="prefetch" href="/assets/foreword.html-9be4fb17.js" as="script"><link rel="prefetch" href="/assets/release.html-cf04e2f7.js" as="script"><link rel="prefetch" href="/assets/enable.html-fd2de4da.js" as="script"><link rel="prefetch" href="/assets/error-handling.html-ec385c61.js" as="script"><link rel="prefetch" href="/assets/output.html-798cf612.js" as="script"><link rel="prefetch" href="/assets/prompts.html-8ff3c90e.js" as="script"><link rel="prefetch" href="/assets/retry.html-a4cd610b.js" as="script"><link rel="prefetch" href="/assets/rollback.html-c29d9ac2.js" as="script"><link rel="prefetch" href="/assets/skip.html-e4f199b2.js" as="script"><link rel="prefetch" href="/assets/subtasks.html-de8c99b6.js" as="script"><link rel="prefetch" href="/assets/title.html-42c59847.js" as="script"><link rel="prefetch" href="/assets/BaseEventMap.html-05436327.js" as="script"><link rel="prefetch" href="/assets/Concurrency.html-7314759d.js" as="script"><link rel="prefetch" href="/assets/DefaultRenderer.html-134aca6b.js" as="script"><link rel="prefetch" href="/assets/EventManager.html-76e7a528.js" as="script"><link rel="prefetch" href="/assets/Listr.html-f45c104c.js" as="script"><link rel="prefetch" href="/assets/ListrBaseRenderer.html-a634e9f9.js" as="script"><link rel="prefetch" href="/assets/ListrError.html-44e580b9.js" as="script"><link rel="prefetch" href="/assets/ListrEventManager.html-7cdae066.js" as="script"><link rel="prefetch" href="/assets/ListrEventMap.html-03871f9f.js" as="script"><link rel="prefetch" href="/assets/ListrLogger.html-814a38cc.js" as="script"><link rel="prefetch" href="/assets/ListrRenderer.html-6c47e789.js" as="script"><link rel="prefetch" href="/assets/ListrTaskEventManager.html-b17ada92.js" as="script"><link rel="prefetch" href="/assets/ListrTaskEventMap.html-abf9fd48.js" as="script"><link rel="prefetch" href="/assets/ListrTaskObject.html-a665f1f0.js" as="script"><link rel="prefetch" href="/assets/ListrTaskWrapper.html-2f0f122b.js" as="script"><link rel="prefetch" href="/assets/Manager.html-410c7122.js" as="script"><link rel="prefetch" href="/assets/ProcessOutput.html-191aed5f.js" as="script"><link rel="prefetch" href="/assets/ProcessOutputBuffer.html-80d0222a.js" as="script"><link rel="prefetch" href="/assets/ProcessOutputStream.html-c7ab348a.js" as="script"><link rel="prefetch" href="/assets/PromptError.html-b1cea369.js" as="script"><link rel="prefetch" href="/assets/PromptOptionsMap.html-a7157f92.js" as="script"><link rel="prefetch" href="/assets/SilentRenderer.html-b89b471c.js" as="script"><link rel="prefetch" href="/assets/SimpleRenderer.html-1fbd3c86.js" as="script"><link rel="prefetch" href="/assets/Spinner.html-5ee52326.js" as="script"><link rel="prefetch" href="/assets/TestRenderer.html-12c8db2d.js" as="script"><link rel="prefetch" href="/assets/TestRendererEvent.html-736f5cec.js" as="script"><link rel="prefetch" href="/assets/VerboseRenderer.html-5806eb84.js" as="script"><link rel="prefetch" href="/assets/ListrDefaultRendererLogLevels.html-c94c1341.js" as="script"><link rel="prefetch" href="/assets/ListrEnvironmentVariables.html-dc8f681c.js" as="script"><link rel="prefetch" href="/assets/ListrErrorTypes.html-0c4dca7f.js" as="script"><link rel="prefetch" href="/assets/ListrEventType.html-e9a96634.js" as="script"><link rel="prefetch" href="/assets/ListrTaskEventType.html-284980b5.js" as="script"><link rel="prefetch" href="/assets/ListrTaskState.html-31cbb5b3.js" as="script"><link rel="prefetch" href="/assets/LogLevels.html-b71a6ef1.js" as="script"><link rel="prefetch" href="/assets/assertFunctionOrSelf.html-f26894ae.js" as="script"><link rel="prefetch" href="/assets/cleanseAnsi.html-5861576e.js" as="script"><link rel="prefetch" href="/assets/cloneObject.html-b8255b4f.js" as="script"><link rel="prefetch" href="/assets/createPrompt.html-488765aa.js" as="script"><link rel="prefetch" href="/assets/generateUUID.html-8774608d.js" as="script"><link rel="prefetch" href="/assets/getRenderer.html-c308ed0b.js" as="script"><link rel="prefetch" href="/assets/getRendererClass.html-a4514190.js" as="script"><link rel="prefetch" href="/assets/indent.html-08fdf64c.js" as="script"><link rel="prefetch" href="/assets/isObservable.html-c6416ce2.js" as="script"><link rel="prefetch" href="/assets/isUnicodeSupported.html-4b0d2404.js" as="script"><link rel="prefetch" href="/assets/parseTimer.html-0e5969d7.js" as="script"><link rel="prefetch" href="/assets/parseTimestamp.html-77a4965c.js" as="script"><link rel="prefetch" href="/assets/splat.html-da854e4e.js" as="script"><link rel="prefetch" href="/assets/DefaultRendererOptions.html-478d85b2.js" as="script"><link rel="prefetch" href="/assets/DefaultRendererTaskOptions.html-5fdda4e9.js" as="script"><link rel="prefetch" href="/assets/ListrBaseClassOptions.html-1d7d32f9.js" as="script"><link rel="prefetch" href="/assets/ListrLoggerOptions.html-5bb3b910.js" as="script"><link rel="prefetch" href="/assets/ListrOptions.html-c5f17dba.js" as="script"><link rel="prefetch" href="/assets/ListrPrimaryRendererOptions.html-61c633e4.js" as="script"><link rel="prefetch" href="/assets/ListrSecondaryRendererOptions.html-806a93ee.js" as="script"><link rel="prefetch" href="/assets/ListrSubClassOptions.html-50f86a0c.js" as="script"><link rel="prefetch" href="/assets/ListrTask.html-720094df.js" as="script"><link rel="prefetch" href="/assets/ListrTaskMessage.html-ec867789.js" as="script"><link rel="prefetch" href="/assets/ListrTaskRetry.html-33edb5cb.js" as="script"><link rel="prefetch" href="/assets/LoggerFieldFn.html-6007fce6.js" as="script"><link rel="prefetch" href="/assets/LoggerFieldOptions.html-e1858530.js" as="script"><link rel="prefetch" href="/assets/LoggerRendererOptions.html-5af11d80.js" as="script"><link rel="prefetch" href="/assets/ProcessOutputBufferEntry.html-a227cc15.js" as="script"><link rel="prefetch" href="/assets/ProcessOutputBufferOptions.html-8781ae83.js" as="script"><link rel="prefetch" href="/assets/ProcessOutputRendererOptions.html-2a551d04.js" as="script"><link rel="prefetch" href="/assets/PromptCancelOptions.html-cd2228db.js" as="script"><link rel="prefetch" href="/assets/PromptInstance.html-19de8055.js" as="script"><link rel="prefetch" href="/assets/PromptSettings.html-0a17800b.js" as="script"><link rel="prefetch" href="/assets/RendererPresetTimer.html-ba7203f4.js" as="script"><link rel="prefetch" href="/assets/RendererPresetTimestamp.html-7b27e0ac.js" as="script"><link rel="prefetch" href="/assets/RendererStyleMap.html-8027ff55.js" as="script"><link rel="prefetch" href="/assets/SimpleRendererOptions.html-0d453134.js" as="script"><link rel="prefetch" href="/assets/SimpleRendererTaskOptions.html-ae9d599a.js" as="script"><link rel="prefetch" href="/assets/SupportedRenderer.html-333cab15.js" as="script"><link rel="prefetch" href="/assets/TestRendererOptions.html-3192b485.js" as="script"><link rel="prefetch" href="/assets/VerboseRendererOptions.html-5d243df0.js" as="script"><link rel="prefetch" href="/assets/VerboseRendererTaskOptions.html-a59637a6.js" as="script"><link rel="prefetch" href="/assets/EventData.html-6c586062.js" as="script"><link rel="prefetch" href="/assets/EventMap.html-6f97928d.js" as="script"><link rel="prefetch" href="/assets/Figures.html-de821a69.js" as="script"><link rel="prefetch" href="/assets/ListrContext.html-fa2aac12.js" as="script"><link rel="prefetch" href="/assets/ListrDefaultRenderer.html-d1ab362b.js" as="script"><link rel="prefetch" href="/assets/ListrDefaultRendererOptions.html-625e2a14.js" as="script"><link rel="prefetch" href="/assets/ListrDefaultRendererOptionsStyle.html-624eddd9.js" as="script"><link rel="prefetch" href="/assets/ListrDefaultRendererTasks.html-43c5c802.js" as="script"><link rel="prefetch" href="/assets/ListrDefaultRendererValue.html-df498907.js" as="script"><link rel="prefetch" href="/assets/ListrFallbackRenderer.html-94cb714b.js" as="script"><link rel="prefetch" href="/assets/ListrFallbackRendererValue.html-cdf90b3f.js" as="script"><link rel="prefetch" href="/assets/ListrGetRendererClassFromValue.html-1511cb81.js" as="script"><link rel="prefetch" href="/assets/ListrGetRendererOptions.html-a1d38ea3.js" as="script"><link rel="prefetch" href="/assets/ListrGetRendererTaskOptions.html-79a5622b.js" as="script"><link rel="prefetch" href="/assets/ListrGetRendererValueFromClass.html-5c1bdaae.js" as="script"><link rel="prefetch" href="/assets/ListrLoggerOptionStyle.html-90d8369c.js" as="script"><link rel="prefetch" href="/assets/ListrRendererFactory.html-a1ac6986.js" as="script"><link rel="prefetch" href="/assets/ListrRendererOptions.html-4a597e3c.js" as="script"><link rel="prefetch" href="/assets/ListrRendererValue.html-f38fbf80.js" as="script"><link rel="prefetch" href="/assets/ListrSilentRenderer.html-0d7cef47.js" as="script"><link rel="prefetch" href="/assets/ListrSilentRendererValue.html-73473497.js" as="script"><link rel="prefetch" href="/assets/ListrSimpleRenderer.html-d6345378.js" as="script"><link rel="prefetch" href="/assets/ListrSimpleRendererOptions.html-23041fd3.js" as="script"><link rel="prefetch" href="/assets/ListrSimpleRendererTasks.html-dcfc7726.js" as="script"><link rel="prefetch" href="/assets/ListrSimpleRendererValue.html-6e068819.js" as="script"><link rel="prefetch" href="/assets/ListrTaskFn.html-e550f370.js" as="script"><link rel="prefetch" href="/assets/ListrTaskPrompt.html-434000a8.js" as="script"><link rel="prefetch" href="/assets/ListrTaskResult.html-c9d0d947.js" as="script"><link rel="prefetch" href="/assets/ListrTestRenderer.html-a5f3a4b5.js" as="script"><link rel="prefetch" href="/assets/ListrTestRendererOptions.html-6c35ecb4.js" as="script"><link rel="prefetch" href="/assets/ListrTestRendererTasks.html-6330eb22.js" as="script"><link rel="prefetch" href="/assets/ListrTestRendererValue.html-af7da422.js" as="script"><link rel="prefetch" href="/assets/ListrVerboseRendererOptions.html-bc4b532e.js" as="script"><link rel="prefetch" href="/assets/ListrVerboseRendererTasks.html-0a9a683e.js" as="script"><link rel="prefetch" href="/assets/LoggerField.html-00241147.js" as="script"><link rel="prefetch" href="/assets/LoggerFormat.html-71b67c27.js" as="script"><link rel="prefetch" href="/assets/PresetTimer.html-b3fa8a4a.js" as="script"><link rel="prefetch" href="/assets/PresetTimestamp.html-611969e4.js" as="script"><link rel="prefetch" href="/assets/PromptOptions.html-34ebba64.js" as="script"><link rel="prefetch" href="/assets/PromptOptionsType.html-e5e93ffd.js" as="script"><link rel="prefetch" href="/assets/PromptTypes.html-5ac8f5d2.js" as="script"><link rel="prefetch" href="/assets/Unionize.html-41cd71ee.js" as="script"><link rel="prefetch" href="/assets/ANSI_ESCAPE.html-a3c7a0b6.js" as="script"><link rel="prefetch" href="/assets/ANSI_ESCAPE_CODES.html-14f1b44b.js" as="script"><link rel="prefetch" href="/assets/LISTR_DEFAULT_RENDERER_STYLE.html-37cb2884.js" as="script"><link rel="prefetch" href="/assets/LISTR_LOGGER_STYLE.html-311f4702.js" as="script"><link rel="prefetch" href="/assets/RENDERER_TIMER.html-6a90f234.js" as="script"><link rel="prefetch" href="/assets/RENDERER_TIMESTAMP.html-fcfc7f9b.js" as="script"><link rel="prefetch" href="/assets/color.html-af245c0e.js" as="script"><link rel="prefetch" href="/assets/figures-1.html-14b53e70.js" as="script"><link rel="prefetch" href="/assets/404.html-5b5caed6.js" as="script"><link rel="prefetch" href="/assets/index.html-0694e97b.js" as="script"><link rel="prefetch" href="/assets/index.html-be73263c.js" as="script"><link rel="prefetch" href="/assets/index.html-e77edd29.js" as="script"><link rel="prefetch" href="/assets/index.html-7e348e17.js" as="script"><link rel="prefetch" href="/assets/index.html-7eb0aad0.js" as="script"><link rel="prefetch" href="/assets/index.html-7ff8bc90.js" as="script"><link rel="prefetch" href="/assets/index.html-48297135.js" as="script"><link rel="prefetch" href="/assets/index.html-9434a371.js" as="script"><link rel="prefetch" href="/assets/index.html-27e1445e.js" as="script"><link rel="prefetch" href="/assets/index.html-d1d0a4a0.js" as="script"><link rel="prefetch" href="/assets/index.html-f8253f36.js" as="script"><link rel="prefetch" href="/assets/index.html-18280a35.js" as="script"><link rel="prefetch" href="/assets/context.html-964ac80e.js" as="script"><link rel="prefetch" href="/assets/environment.html-ce7a9ab8.js" as="script"><link rel="prefetch" href="/assets/examples.html-13f2636f.js" as="script"><link rel="prefetch" href="/assets/installation.html-3f60c560.js" as="script"><link rel="prefetch" href="/assets/new-listr.html-950c38f7.js" as="script"><link rel="prefetch" href="/assets/task-options.html-a9091ec4.js" as="script"><link rel="prefetch" href="/assets/task.html-1069229b.js" as="script"><link rel="prefetch" href="/assets/index.html-efbc9b51.js" as="script"><link rel="prefetch" href="/assets/v6.html-1850b0ca.js" as="script"><link rel="prefetch" href="/assets/index.html-56622fac.js" as="script"><link rel="prefetch" href="/assets/default.html-479d06cf.js" as="script"><link rel="prefetch" href="/assets/fallback-condition.html-545e2c84.js" as="script"><link rel="prefetch" href="/assets/simple.html-881e7547.js" as="script"><link rel="prefetch" href="/assets/test.html-f18cad97.js" as="script"><link rel="prefetch" href="/assets/verbose.html-e3ca0dae.js" as="script"><link rel="prefetch" href="/assets/changelog.html-4eb0b9be.js" as="script"><link rel="prefetch" href="/assets/contributions.html-8626eab7.js" as="script"><link rel="prefetch" href="/assets/foreword.html-f8eb8ee9.js" as="script"><link rel="prefetch" href="/assets/release.html-671db2e4.js" as="script"><link rel="prefetch" href="/assets/enable.html-cba4e274.js" as="script"><link rel="prefetch" href="/assets/error-handling.html-d67d4130.js" as="script"><link rel="prefetch" href="/assets/output.html-f70f680f.js" as="script"><link rel="prefetch" href="/assets/prompts.html-9237c7ab.js" as="script"><link rel="prefetch" href="/assets/retry.html-bf3c7b8e.js" as="script"><link rel="prefetch" href="/assets/rollback.html-90567e86.js" as="script"><link rel="prefetch" href="/assets/skip.html-bceadf77.js" as="script"><link rel="prefetch" href="/assets/subtasks.html-a726201b.js" as="script"><link rel="prefetch" href="/assets/title.html-9151400e.js" as="script"><link rel="prefetch" href="/assets/BaseEventMap.html-9c12a46a.js" as="script"><link rel="prefetch" href="/assets/Concurrency.html-0e8395b0.js" as="script"><link rel="prefetch" href="/assets/DefaultRenderer.html-aa3c6d45.js" as="script"><link rel="prefetch" href="/assets/EventManager.html-7d95b89b.js" as="script"><link rel="prefetch" href="/assets/Listr.html-8191ad5e.js" as="script"><link rel="prefetch" href="/assets/ListrBaseRenderer.html-955bfbff.js" as="script"><link rel="prefetch" href="/assets/ListrError.html-af0ab9f0.js" as="script"><link rel="prefetch" href="/assets/ListrEventManager.html-0b8315a1.js" as="script"><link rel="prefetch" href="/assets/ListrEventMap.html-9a9ab588.js" as="script"><link rel="prefetch" href="/assets/ListrLogger.html-e6aba82b.js" as="script"><link rel="prefetch" href="/assets/ListrRenderer.html-dadc6607.js" as="script"><link rel="prefetch" href="/assets/ListrTaskEventManager.html-e96bc4df.js" as="script"><link rel="prefetch" href="/assets/ListrTaskEventMap.html-fe628844.js" as="script"><link rel="prefetch" href="/assets/ListrTaskObject.html-69871320.js" as="script"><link rel="prefetch" href="/assets/ListrTaskWrapper.html-db06f045.js" as="script"><link rel="prefetch" href="/assets/Manager.html-3330dda6.js" as="script"><link rel="prefetch" href="/assets/ProcessOutput.html-25146dcb.js" as="script"><link rel="prefetch" href="/assets/ProcessOutputBuffer.html-0a7b469d.js" as="script"><link rel="prefetch" href="/assets/ProcessOutputStream.html-80bdfa28.js" as="script"><link rel="prefetch" href="/assets/PromptError.html-2f7e4947.js" as="script"><link rel="prefetch" href="/assets/PromptOptionsMap.html-39d7e999.js" as="script"><link rel="prefetch" href="/assets/SilentRenderer.html-46f95be4.js" as="script"><link rel="prefetch" href="/assets/SimpleRenderer.html-cdf76228.js" as="script"><link rel="prefetch" href="/assets/Spinner.html-3bd8e0d1.js" as="script"><link rel="prefetch" href="/assets/TestRenderer.html-542befed.js" as="script"><link rel="prefetch" href="/assets/TestRendererEvent.html-6c1c8f67.js" as="script"><link rel="prefetch" href="/assets/VerboseRenderer.html-86580760.js" as="script"><link rel="prefetch" href="/assets/ListrDefaultRendererLogLevels.html-643baa5f.js" as="script"><link rel="prefetch" href="/assets/ListrEnvironmentVariables.html-482f4fca.js" as="script"><link rel="prefetch" href="/assets/ListrErrorTypes.html-c7b44d96.js" as="script"><link rel="prefetch" href="/assets/ListrEventType.html-40f2abd6.js" as="script"><link rel="prefetch" href="/assets/ListrTaskEventType.html-376a8f5f.js" as="script"><link rel="prefetch" href="/assets/ListrTaskState.html-cc2f9e0a.js" as="script"><link rel="prefetch" href="/assets/LogLevels.html-5a10a9a5.js" as="script"><link rel="prefetch" href="/assets/assertFunctionOrSelf.html-418a381d.js" as="script"><link rel="prefetch" href="/assets/cleanseAnsi.html-c3742df4.js" as="script"><link rel="prefetch" href="/assets/cloneObject.html-030a6508.js" as="script"><link rel="prefetch" href="/assets/createPrompt.html-d047f91b.js" as="script"><link rel="prefetch" href="/assets/generateUUID.html-a08d063b.js" as="script"><link rel="prefetch" href="/assets/getRenderer.html-2c083760.js" as="script"><link rel="prefetch" href="/assets/getRendererClass.html-b7df7f74.js" as="script"><link rel="prefetch" href="/assets/indent.html-f04267a0.js" as="script"><link rel="prefetch" href="/assets/isObservable.html-f5e19613.js" as="script"><link rel="prefetch" href="/assets/isUnicodeSupported.html-f91231ff.js" as="script"><link rel="prefetch" href="/assets/parseTimer.html-8d15b34b.js" as="script"><link rel="prefetch" href="/assets/parseTimestamp.html-7824520b.js" as="script"><link rel="prefetch" href="/assets/splat.html-22d4ca9f.js" as="script"><link rel="prefetch" href="/assets/DefaultRendererOptions.html-e98947ad.js" as="script"><link rel="prefetch" href="/assets/DefaultRendererTaskOptions.html-a9fa6ddf.js" as="script"><link rel="prefetch" href="/assets/ListrBaseClassOptions.html-647d3fdb.js" as="script"><link rel="prefetch" href="/assets/ListrLoggerOptions.html-b8adf633.js" as="script"><link rel="prefetch" href="/assets/ListrOptions.html-68d43a3e.js" as="script"><link rel="prefetch" href="/assets/ListrPrimaryRendererOptions.html-668f7c8b.js" as="script"><link rel="prefetch" href="/assets/ListrSecondaryRendererOptions.html-d0f588ad.js" as="script"><link rel="prefetch" href="/assets/ListrSubClassOptions.html-57aa88a1.js" as="script"><link rel="prefetch" href="/assets/ListrTask.html-73b13d8b.js" as="script"><link rel="prefetch" href="/assets/ListrTaskMessage.html-db3c5bd7.js" as="script"><link rel="prefetch" href="/assets/ListrTaskRetry.html-7f0f059d.js" as="script"><link rel="prefetch" href="/assets/LoggerFieldFn.html-740a191d.js" as="script"><link rel="prefetch" href="/assets/LoggerFieldOptions.html-6d49ab57.js" as="script"><link rel="prefetch" href="/assets/LoggerRendererOptions.html-238046cd.js" as="script"><link rel="prefetch" href="/assets/ProcessOutputBufferEntry.html-278503f0.js" as="script"><link rel="prefetch" href="/assets/ProcessOutputBufferOptions.html-24e95fa9.js" as="script"><link rel="prefetch" href="/assets/ProcessOutputRendererOptions.html-91158bf7.js" as="script"><link rel="prefetch" href="/assets/PromptCancelOptions.html-bedce4a3.js" as="script"><link rel="prefetch" href="/assets/PromptInstance.html-fe9c92e9.js" as="script"><link rel="prefetch" href="/assets/PromptSettings.html-09b53a78.js" as="script"><link rel="prefetch" href="/assets/RendererPresetTimer.html-08b8c304.js" as="script"><link rel="prefetch" href="/assets/RendererPresetTimestamp.html-6c40c380.js" as="script"><link rel="prefetch" href="/assets/RendererStyleMap.html-da98bb5b.js" as="script"><link rel="prefetch" href="/assets/SimpleRendererOptions.html-dae6c5fe.js" as="script"><link rel="prefetch" href="/assets/SimpleRendererTaskOptions.html-c9080f0d.js" as="script"><link rel="prefetch" href="/assets/SupportedRenderer.html-def01756.js" as="script"><link rel="prefetch" href="/assets/TestRendererOptions.html-c5d50cbb.js" as="script"><link rel="prefetch" href="/assets/VerboseRendererOptions.html-b192c0cd.js" as="script"><link rel="prefetch" href="/assets/VerboseRendererTaskOptions.html-e05868d6.js" as="script"><link rel="prefetch" href="/assets/EventData.html-cf545c67.js" as="script"><link rel="prefetch" href="/assets/EventMap.html-fd186ea8.js" as="script"><link rel="prefetch" href="/assets/Figures.html-d70221b0.js" as="script"><link rel="prefetch" href="/assets/ListrContext.html-84691337.js" as="script"><link rel="prefetch" href="/assets/ListrDefaultRenderer.html-622b16cf.js" as="script"><link rel="prefetch" href="/assets/ListrDefaultRendererOptions.html-926dbdaf.js" as="script"><link rel="prefetch" href="/assets/ListrDefaultRendererOptionsStyle.html-866ccbf8.js" as="script"><link rel="prefetch" href="/assets/ListrDefaultRendererTasks.html-94d2c2e4.js" as="script"><link rel="prefetch" href="/assets/ListrDefaultRendererValue.html-2944fadb.js" as="script"><link rel="prefetch" href="/assets/ListrFallbackRenderer.html-c3d1935e.js" as="script"><link rel="prefetch" href="/assets/ListrFallbackRendererValue.html-6fc06fc0.js" as="script"><link rel="prefetch" href="/assets/ListrGetRendererClassFromValue.html-e16373a3.js" as="script"><link rel="prefetch" href="/assets/ListrGetRendererOptions.html-6cdf6ef3.js" as="script"><link rel="prefetch" href="/assets/ListrGetRendererTaskOptions.html-396c5fb8.js" as="script"><link rel="prefetch" href="/assets/ListrGetRendererValueFromClass.html-3ae9192d.js" as="script"><link rel="prefetch" href="/assets/ListrLoggerOptionStyle.html-47c1cf3c.js" as="script"><link rel="prefetch" href="/assets/ListrRendererFactory.html-c4b7a898.js" as="script"><link rel="prefetch" href="/assets/ListrRendererOptions.html-2238bd1c.js" as="script"><link rel="prefetch" href="/assets/ListrRendererValue.html-faffabf0.js" as="script"><link rel="prefetch" href="/assets/ListrSilentRenderer.html-7cdf0d21.js" as="script"><link rel="prefetch" href="/assets/ListrSilentRendererValue.html-fffa0257.js" as="script"><link rel="prefetch" href="/assets/ListrSimpleRenderer.html-9c1d3ea5.js" as="script"><link rel="prefetch" href="/assets/ListrSimpleRendererOptions.html-ff9da591.js" as="script"><link rel="prefetch" href="/assets/ListrSimpleRendererTasks.html-2a01e68b.js" as="script"><link rel="prefetch" href="/assets/ListrSimpleRendererValue.html-a9c94b52.js" as="script"><link rel="prefetch" href="/assets/ListrTaskFn.html-14d9c403.js" as="script"><link rel="prefetch" href="/assets/ListrTaskPrompt.html-a278cc26.js" as="script"><link rel="prefetch" href="/assets/ListrTaskResult.html-5bbb3bd3.js" as="script"><link rel="prefetch" href="/assets/ListrTestRenderer.html-792d2cd0.js" as="script"><link rel="prefetch" href="/assets/ListrTestRendererOptions.html-428c11e0.js" as="script"><link rel="prefetch" href="/assets/ListrTestRendererTasks.html-7a4c58b3.js" as="script"><link rel="prefetch" href="/assets/ListrTestRendererValue.html-d23202f2.js" as="script"><link rel="prefetch" href="/assets/ListrVerboseRendererOptions.html-57b99e81.js" as="script"><link rel="prefetch" href="/assets/ListrVerboseRendererTasks.html-12eb1d1b.js" as="script"><link rel="prefetch" href="/assets/LoggerField.html-56fbd3b7.js" as="script"><link rel="prefetch" href="/assets/LoggerFormat.html-17baeeb5.js" as="script"><link rel="prefetch" href="/assets/PresetTimer.html-e867e459.js" as="script"><link rel="prefetch" href="/assets/PresetTimestamp.html-caa6f322.js" as="script"><link rel="prefetch" href="/assets/PromptOptions.html-fdbb3792.js" as="script"><link rel="prefetch" href="/assets/PromptOptionsType.html-72415bf2.js" as="script"><link rel="prefetch" href="/assets/PromptTypes.html-ae6195ef.js" as="script"><link rel="prefetch" href="/assets/Unionize.html-9502ff44.js" as="script"><link rel="prefetch" href="/assets/ANSI_ESCAPE.html-c9075763.js" as="script"><link rel="prefetch" href="/assets/ANSI_ESCAPE_CODES.html-b88acef2.js" as="script"><link rel="prefetch" href="/assets/LISTR_DEFAULT_RENDERER_STYLE.html-1362c4d5.js" as="script"><link rel="prefetch" href="/assets/LISTR_LOGGER_STYLE.html-12ab12ea.js" as="script"><link rel="prefetch" href="/assets/RENDERER_TIMER.html-d416c49a.js" as="script"><link rel="prefetch" href="/assets/RENDERER_TIMESTAMP.html-70776e5b.js" as="script"><link rel="prefetch" href="/assets/color.html-86151ac0.js" as="script"><link rel="prefetch" href="/assets/figures-1.html-33487d38.js" as="script"><link rel="prefetch" href="/assets/404.html-85f03aa9.js" as="script"><link rel="prefetch" href="/assets/index.html-14bd3564.js" as="script"><link rel="prefetch" href="/assets/index.html-d0e86bc8.js" as="script"><link rel="prefetch" href="/assets/index.html-6304ba9d.js" as="script"><link rel="prefetch" href="/assets/index.html-7235e0dc.js" as="script"><link rel="prefetch" href="/assets/index.html-2c77d14a.js" as="script"><link rel="prefetch" href="/assets/index.html-d3d13a08.js" as="script"><link rel="prefetch" href="/assets/index.html-255c1f2a.js" as="script"><link rel="prefetch" href="/assets/index.html-d73ec62b.js" as="script"><link rel="prefetch" href="/assets/index.html-d22bdeca.js" as="script"><link rel="prefetch" href="/assets/index.html-06cb8332.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-6e6cbe40.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button type="button" class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><!----><!----><span class="site-name">listr2</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="listr2"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="home" width="1em" height="1em"></iconify-icon>listr2<!----></a></div><div class="nav-item hide-in-mobile"><a href="/getting-started/installation.html" class="nav-link" aria-label="documentation"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="discover" width="1em" height="1em"></iconify-icon>documentation<!----></a></div><div class="nav-item hide-in-mobile"><a href="/repository/foreword.html" class="nav-link" aria-label="foreword"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="discover" width="1em" height="1em"></iconify-icon>foreword<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://www.npmjs.com/package/listr2" rel="noopener noreferrer" target="_blank" aria-label class="nav-link"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="simple-icons:npm" width="1em" height="1em"></iconify-icon><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="https://gitlab.kilic.dev/libraries/listr2/-/pipelines" rel="noopener noreferrer" target="_blank" aria-label class="nav-link"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="vscode-icons:file-type-gitlab" width="1em" height="1em"></iconify-icon><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/cenk1cenk2/listr2" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button type="button" class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/" class="nav-link sidebar-link sidebar-page" aria-label="listr2"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="home" width="1em" height="1em"></iconify-icon>listr2<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><p class="sidebar-heading"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:git" width="1em" height="1em"></iconify-icon><span class="title">Repository</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/repository/foreword.html" class="nav-link sidebar-link sidebar-page" aria-label="Foreword"><!---->Foreword<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/repository/contributions.html" class="nav-link sidebar-link sidebar-page" aria-label="Contributions"><!---->Contributions<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/repository/release.html" class="nav-link sidebar-link sidebar-page" aria-label="Release"><!---->Release<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/repository/changelog.html" class="nav-link sidebar-link sidebar-page" aria-label="Changelog"><!---->Changelog<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Getting Started</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Task</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active" type="button"><!----><span class="title">Renderer</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/renderer/" class="nav-link sidebar-link sidebar-page" aria-label="Renderer"><!---->Renderer<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/renderer/fallback-condition.html" class="nav-link sidebar-link sidebar-page" aria-label="Fallback Condition"><!---->Fallback Condition<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/renderer/default.html" class="nav-link sidebar-link sidebar-page" aria-label="Default Renderer"><!---->Default Renderer<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/renderer/simple.html" class="nav-link sidebar-link sidebar-page" aria-label="Simple Renderer"><!---->Simple Renderer<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/renderer/verbose.html" class="nav-link sidebar-link sidebar-page" aria-label="Verbose Renderer"><!---->Verbose Renderer<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/renderer/test.html" class="nav-link sidebar-link sidebar-page" aria-label="Test Renderer"><!---->Test Renderer<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/renderer/custom.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Custom Renderer"><!---->Custom Renderer<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/renderer/custom.html#implement-or-extend-the-default-listr-renderer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Implement or Extend the Default Listr Renderer"><!---->Implement or Extend the Default Listr Renderer<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/renderer/custom.html#utilizing-the-task" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Utilizing the Task"><!---->Utilizing the Task<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/renderer/custom.html#utilizing-the-events" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Utilizing the Events"><!---->Utilizing the Events<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/renderer/custom.html#using-render-hooks-v2-1-0" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Using Render Hooks v2.1.0"><!---->Using Render Hooks v2.1.0<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/renderer/custom.html#using-a-custom-renderer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Using a Custom Renderer"><!---->Using a Custom Renderer<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Manager</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Migration</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="eos-icons:api-outlined" width="1em" height="1em"></iconify-icon><span class="title">API</span><span class="arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Custom Renderer</h1><div class="page-info"><span class="page-author-info" aria-label="AuthorðŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://cenk.kilic.dev" target="_blank" rel="noopener noreferrer">Cenk KÄ±lÄ±Ã§</a></span><span property="author" content="Cenk KÄ±lÄ±Ã§"></span></span><!----><!----><!----><span class="page-reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>Less than 1 minute</span><meta property="timeRequired" content="PT1M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">On This Page<!----></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/renderer/custom.html#implement-or-extend-the-default-listr-renderer" class="router-link-active router-link-exact-active toc-link level2">Implement or Extend the Default Listr Renderer</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/renderer/custom.html#utilizing-the-task" class="router-link-active router-link-exact-active toc-link level2">Utilizing the Task</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/renderer/custom.html#utilizing-the-events" class="router-link-active router-link-exact-active toc-link level2">Utilizing the Events</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/renderer/custom.html#using-render-hooks-v2-1-0" class="router-link-active router-link-exact-active toc-link level2">Using Render Hooks v2.1.0</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/renderer/custom.html#using-a-custom-renderer" class="router-link-active router-link-exact-active toc-link level2">Using a Custom Renderer</a></li><!----><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><p>You can create a custom renderer that is fit for your application.</p><!-- more --><h2 id="implement-or-extend-the-default-listr-renderer" tabindex="-1"><a class="header-anchor" href="#implement-or-extend-the-default-listr-renderer" aria-hidden="true">#</a> Implement or Extend the Default <a href="/api/classes/Listr.html" target="_blank">Listr</a> Renderer</h2><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ListrRenderer<span class="token punctuation">,</span> ListrTaskObject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;listr2&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Listr <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;listr2&#39;</span>

<span class="token keyword">type</span> <span class="token class-name">MyAmazingRendererOptions</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> MyAmazingRenderer<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&#39;rendererOptions&#39;</span><span class="token punctuation">]</span>

<span class="token keyword">type</span> <span class="token class-name">MyAmazingRendererTasks</span> <span class="token operator">=</span> ListrTaskObject<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span> MyAmazingRenderer<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">class</span> <span class="token class-name">MyAmazingRenderer</span> <span class="token keyword">implements</span> <span class="token class-name">ListrRenderer</span> <span class="token punctuation">{</span>
  <span class="token comment">// Designate this renderer as tty or nonTTY</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> nonTTY <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token comment">// designate your renderer options that will be showed inside the `ListrOptions` as rendererOptions</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> rendererOptions<span class="token operator">:</span> <span class="token builtin">never</span>
  <span class="token comment">// designate your custom internal task-based options that will show as `options` in the task itself</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> rendererTaskOptions<span class="token operator">:</span> <span class="token builtin">never</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">Info</p><p>For Javascript, since you cannot implement <code>ListrRenderer</code>, you can extend either the <em>SilentRenderer</em> or <code>ListrBaseRenderer</code>.</p></div><h2 id="utilizing-the-task" tabindex="-1"><a class="header-anchor" href="#utilizing-the-task" aria-hidden="true">#</a> Utilizing the <a href="/api/interfaces/ListrTask.html#properties" target="_blank">Task</a></h2><p>Take a look at <a href="/renderer/default.html" target="_blank">DefaultRenderer</a> since it is implemented this way.</p><details class="hint-container details"><summary><iconify-icon class="font-icon icon" style="" mode="style" inline icon="material-symbols:code-blocks-outline" width="1em" height="1em"></iconify-icon> Code Example</summary><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token class-name">truncate</span> <span class="token keyword">from</span> <span class="token string">&#39;cli-truncate&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> createLogUpdate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;log-update&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">EOL</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;os&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token class-name">wrap</span> <span class="token keyword">from</span> <span class="token string">&#39;wrap-ansi&#39;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">LISTR_DEFAULT_RENDERER_STYLE</span><span class="token punctuation">,</span> ListrDefaultRendererLogLevels <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./renderer.constants&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> DefaultRendererOptions<span class="token punctuation">,</span> DefaultRendererTaskOptions<span class="token punctuation">,</span> ListrDefaultRendererOptions<span class="token punctuation">,</span> ListrDefaultRendererTasks <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./renderer.interface&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ListrEventType<span class="token punctuation">,</span> ListrTaskEventType<span class="token punctuation">,</span> ListrTaskState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@constants&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ListrContext<span class="token punctuation">,</span> ListrRenderer<span class="token punctuation">,</span> ListrTaskEventMap <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@interfaces&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PromptError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@interfaces&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ListrEventManager<span class="token punctuation">,</span> Task <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@lib&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ProcessOutputBuffer<span class="token punctuation">,</span> ListrLogger<span class="token punctuation">,</span> LogLevels<span class="token punctuation">,</span> Spinner<span class="token punctuation">,</span> assertFunctionOrSelf<span class="token punctuation">,</span> cleanseAnsi<span class="token punctuation">,</span> color<span class="token punctuation">,</span> indent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@utils&#39;</span>

<span class="token doc-comment comment">/** Default updating renderer for Listr2 */</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">DefaultRenderer</span> <span class="token keyword">implements</span> <span class="token class-name">ListrRenderer</span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/** designates whether this renderer can output to a non-tty console */</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> nonTTY <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token doc-comment comment">/** renderer options for the defauult renderer */</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> rendererOptions<span class="token operator">:</span> DefaultRendererOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
    indentation<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    clearOutput<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    showSubtasks<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    collapse<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    collapseSkips<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    showSkipMessage<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    suffixSkips<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    collapseErrors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    showErrorMessage<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    suffixRetries<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    lazy<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    removeEmptyLines<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    formatOutput<span class="token operator">:</span> <span class="token string">&#39;wrap&#39;</span><span class="token punctuation">,</span>
    logger<span class="token operator">:</span> ListrLogger
  <span class="token punctuation">}</span>

  <span class="token doc-comment comment">/** per task options for the default renderer */</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> rendererTaskOptions<span class="token operator">:</span> DefaultRendererTaskOptions

  <span class="token keyword">private</span> bottom<span class="token operator">:</span> Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> ProcessOutputBuffer<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> prompt<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">private</span> activePrompt<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> spinner<span class="token operator">:</span> Spinner
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> logger<span class="token operator">:</span> ListrLogger
  <span class="token keyword">private</span> updater<span class="token operator">:</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> createLogUpdate<span class="token operator">&gt;</span>
  <span class="token keyword">private</span> truncate<span class="token operator">:</span> <span class="token keyword">typeof</span> truncate
  <span class="token keyword">private</span> wrap<span class="token operator">:</span> <span class="token keyword">typeof</span> wrap

  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">readonly</span> tasks<span class="token operator">:</span> ListrDefaultRendererTasks<span class="token punctuation">,</span> <span class="token keyword">private</span> <span class="token keyword">readonly</span> options<span class="token operator">:</span> ListrDefaultRendererOptions<span class="token punctuation">,</span> <span class="token keyword">private</span> <span class="token keyword">readonly</span> events<span class="token operator">:</span> ListrEventManager<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>DefaultRenderer<span class="token punctuation">.</span>rendererOptions<span class="token punctuation">,</span>
      <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>
      style<span class="token operator">:</span> <span class="token punctuation">{</span>
        icon<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span><span class="token constant">LISTR_DEFAULT_RENDERER_STYLE</span><span class="token punctuation">.</span>icon<span class="token punctuation">,</span>
          <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token operator">?.</span>style<span class="token operator">?.</span>icon <span class="token operator">??</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        color<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span><span class="token constant">LISTR_DEFAULT_RENDERER_STYLE</span><span class="token punctuation">.</span>color<span class="token punctuation">,</span>
          <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token operator">?.</span>style<span class="token operator">?.</span>color <span class="token operator">??</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token keyword">this</span></span><span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">logger</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>loggerOptions<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>spinner <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>spinner <span class="token operator">??</span> <span class="token keyword">new</span> <span class="token class-name">Spinner</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token function">getTaskOptions</span> <span class="token punctuation">(</span>task<span class="token operator">:</span> Task<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span> DefaultRenderer<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> DefaultRenderer<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&#39;rendererTaskOptions&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>DefaultRenderer<span class="token punctuation">.</span>rendererTaskOptions<span class="token punctuation">,</span> <span class="token operator">...</span>task<span class="token punctuation">.</span>rendererTaskOptions <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token function">isBottomBar</span> <span class="token punctuation">(</span>task<span class="token operator">:</span> Task<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span> DefaultRenderer<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> bottomBar <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getTaskOptions</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">.</span>bottomBar

    <span class="token keyword">return</span> <span class="token keyword">typeof</span> bottomBar <span class="token operator">===</span> <span class="token string">&#39;number&#39;</span> <span class="token operator">&amp;&amp;</span> bottomBar <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> bottomBar <span class="token operator">===</span> <span class="token string">&#39;boolean&#39;</span> <span class="token operator">&amp;&amp;</span> bottomBar <span class="token operator">!==</span> <span class="token boolean">false</span> <span class="token operator">||</span> <span class="token operator">!</span>task<span class="token punctuation">.</span><span class="token function">hasTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token function">hasPersistentOutput</span> <span class="token punctuation">(</span>task<span class="token operator">:</span> Task<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span> DefaultRenderer<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getTaskOptions</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">.</span>persistentOutput <span class="token operator">===</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token generic-function"><span class="token function">getSelfOrParentOption</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> ListrDefaultRendererOptions<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>task<span class="token operator">:</span> Task<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span> DefaultRenderer<span class="token operator">&gt;</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span><span class="token operator">:</span> ListrDefaultRendererOptions<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> task<span class="token operator">?.</span>rendererOptions<span class="token operator">?.</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token operator">?.</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> createLogUpdate <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;log-update&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> truncate <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;cli-truncate&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> wrap <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;wrap-ansi&#39;</span><span class="token punctuation">)</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>updater <span class="token operator">=</span> <span class="token function">createLogUpdate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span>process<span class="token punctuation">.</span>stdout<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>truncate <span class="token operator">=</span> truncate
    <span class="token keyword">this</span><span class="token punctuation">.</span>wrap <span class="token operator">=</span> wrap

    <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span>process<span class="token punctuation">.</span><span class="token function">hijack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">/* istanbul ignore if */</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token operator">?.</span>lazy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>spinner<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>ListrEventType<span class="token punctuation">.</span><span class="token constant">SHOULD_REFRESH_RENDER</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token function">update</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updater</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token function">end</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>spinner<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// clear log updater</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>updater<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>updater<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// directly write to process.stdout, since logupdate only can update the seen height of terminal</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>clearOutput<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span>process<span class="token punctuation">.</span><span class="token function">toStdout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span> prompt<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span>process<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token function">create</span> <span class="token punctuation">(</span>options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span> tasks<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> bottomBar<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> prompt<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    options <span class="token operator">=</span> <span class="token punctuation">{</span>
      tasks<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      bottomBar<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      prompt<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token operator">...</span>options
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> render<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">const</span> renderTasks <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tasks<span class="token punctuation">)</span>
    <span class="token keyword">const</span> renderBottomBar <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderBottomBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> renderPrompt <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderPrompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>tasks <span class="token operator">&amp;&amp;</span> renderTasks<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      render<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>renderTasks<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>bottomBar <span class="token operator">&amp;&amp;</span> renderBottomBar<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>render<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        render<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      render<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>renderBottomBar<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>prompt <span class="token operator">&amp;&amp;</span> renderPrompt<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>render<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        render<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      render<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>renderPrompt<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> render<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token constant">EOL</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// eslint-disable-next-line complexity</span>
  <span class="token keyword">protected</span> <span class="token function">style</span> <span class="token punctuation">(</span>task<span class="token operator">:</span> Task<span class="token operator">&lt;</span>ListrContext<span class="token punctuation">,</span> <span class="token keyword">typeof</span> DefaultRenderer<span class="token operator">&gt;</span><span class="token punctuation">,</span> output <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isSkipped</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>output <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;collapseSkips&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">SKIPPED_WITH_COLLAPSE</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;collapseSkips&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">SKIPPED_WITHOUT_COLLAPSE</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>output<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isBottomBar</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">OUTPUT_WITH_BOTTOMBAR</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">OUTPUT</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">hasSubtasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isStarted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> task<span class="token punctuation">.</span><span class="token function">isPrompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;showSubtasks&#39;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>task<span class="token punctuation">.</span>subtasks<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span>subtask<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>subtask<span class="token punctuation">.</span><span class="token function">hasTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">PENDING</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> task<span class="token punctuation">.</span>subtasks<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>subtask<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> subtask<span class="token punctuation">.</span><span class="token function">hasFailed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">COMPLETED_WITH_FAILED_SUBTASKS</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">hasFailed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">FAILED_WITH_FAILED_SUBTASKS</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isStarted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> task<span class="token punctuation">.</span><span class="token function">isPrompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">PENDING</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token operator">?.</span>lazy <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>spinner<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">COMPLETED</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isRetrying</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">RETRY</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token operator">?.</span>lazy <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>spinner<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isRollingBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">ROLLING_BACK</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token operator">?.</span>lazy <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>spinner<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">hasRolledBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">ROLLED_BACK</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">hasFailed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">FAILED</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">WAITING</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">protected</span> <span class="token function">format</span> <span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> icon<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> level<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token comment">// we dont like empty data around here</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>icon<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      message <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>icon<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> parsed<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">let</span> columns <span class="token operator">=</span> process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>columns <span class="token operator">?</span> process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>columns <span class="token operator">:</span> <span class="token number">80</span>

    columns <span class="token operator">=</span> columns <span class="token operator">-</span> level <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>indentation <span class="token operator">-</span> <span class="token number">2</span>

    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>formatOutput<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&#39;truncate&#39;</span><span class="token operator">:</span>
      parsed <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token constant">EOL</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">truncate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">indent</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span> columns<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token keyword">break</span>

    <span class="token keyword">case</span> <span class="token string">&#39;wrap&#39;</span><span class="token operator">:</span>
      parsed <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> columns<span class="token punctuation">,</span> <span class="token punctuation">{</span> hard<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token constant">EOL</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">indent</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>

      <span class="token keyword">break</span>

    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Format option for the renderer is wrong.&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// this removes the empty lines</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>removeEmptyLines<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parsed <span class="token operator">=</span> parsed<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> parsed<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">indent</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> level <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>indentation<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function">renderer</span> <span class="token punctuation">(</span>tasks<span class="token operator">:</span> ListrDefaultRendererTasks<span class="token punctuation">,</span> level <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token comment">// eslint-disable-next-line complexity</span>
    <span class="token keyword">return</span> tasks<span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> output<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>task<span class="token punctuation">.</span><span class="token function">isEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isPrompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>activePrompt <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>activePrompt <span class="token operator">!==</span> task<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">PromptError</span><span class="token punctuation">(</span><span class="token string">&#39;Only one prompt can be active at the given time, please reevaluate your task design.&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>activePrompt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          task<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>ListrTaskEventType<span class="token punctuation">.</span><span class="token constant">PROMPT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>prompt<span class="token operator">:</span> ListrTaskEventMap<span class="token punctuation">[</span>ListrTaskEventType<span class="token punctuation">.</span><span class="token constant">PROMPT</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> cleansed <span class="token operator">=</span> <span class="token function">cleanseAnsi</span><span class="token punctuation">(</span>prompt<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>cleansed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>prompt <span class="token operator">=</span> cleansed
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>

          task<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>ListrTaskEventType<span class="token punctuation">.</span><span class="token constant">STATE</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">===</span> ListrTaskState<span class="token punctuation">.</span><span class="token constant">PROMPT_COMPLETED</span> <span class="token operator">||</span> task<span class="token punctuation">.</span><span class="token function">hasFinalized</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> task<span class="token punctuation">.</span><span class="token function">hasReset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>prompt <span class="token operator">=</span> <span class="token keyword">null</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>activePrompt <span class="token operator">=</span> <span class="token keyword">null</span>
              task<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>ListrTaskEventType<span class="token punctuation">.</span><span class="token constant">PROMPT</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>

          <span class="token keyword">this</span><span class="token punctuation">.</span>activePrompt <span class="token operator">=</span> task<span class="token punctuation">.</span>id
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// Current Task Title</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">hasTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>tasks<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> task<span class="token punctuation">.</span><span class="token function">hasFailed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>task<span class="token punctuation">.</span><span class="token function">hasFailed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> task<span class="token punctuation">.</span>options<span class="token punctuation">.</span>exitOnError <span class="token operator">!==</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> task<span class="token punctuation">.</span><span class="token function">isSkipped</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// if task is skipped</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">hasFailed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;collapseErrors&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// current task title and skip change the title</span>
            output<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
              <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>
                <span class="token operator">!</span>task<span class="token punctuation">.</span><span class="token function">hasSubtasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> task<span class="token punctuation">.</span>message<span class="token punctuation">.</span>error <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;showErrorMessage&#39;</span><span class="token punctuation">)</span> <span class="token operator">?</span> task<span class="token punctuation">.</span>message<span class="token punctuation">.</span>error <span class="token operator">:</span> task<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">,</span>
                level
              <span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isSkipped</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;collapseSkips&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// current task title and skip change the title</span>
            output<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
              <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">suffix</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>message<span class="token punctuation">.</span>skip <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;showSkipMessage&#39;</span><span class="token punctuation">)</span> <span class="token operator">?</span> task<span class="token punctuation">.</span>message<span class="token punctuation">.</span>skip <span class="token operator">:</span> task<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  field<span class="token operator">:</span> LogLevels<span class="token punctuation">.</span><span class="token constant">SKIPPED</span><span class="token punctuation">,</span>
                  condition<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;suffixSkips&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token function-variable function">format</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> color<span class="token punctuation">.</span>dim
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">,</span>
                level
              <span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isRetrying</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;suffixRetries&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            output<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
              <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">suffix</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  field<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>LogLevels<span class="token punctuation">.</span><span class="token constant">RETRY</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>task<span class="token punctuation">.</span>message<span class="token punctuation">.</span>retry<span class="token punctuation">.</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
                  <span class="token function-variable function">format</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> color<span class="token punctuation">.</span>yellow
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">,</span>
                level
              <span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> task<span class="token punctuation">.</span><span class="token function">hasTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">assertFunctionOrSelf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;timer&#39;</span><span class="token punctuation">)</span><span class="token operator">?.</span>condition<span class="token punctuation">,</span> task<span class="token punctuation">.</span>message<span class="token punctuation">.</span>duration<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// task with timer</span>
            output<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
              <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">suffix</span><span class="token punctuation">(</span>task<span class="token operator">?.</span>title<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;timer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  args<span class="token operator">:</span> <span class="token punctuation">[</span> task<span class="token punctuation">.</span>message<span class="token punctuation">.</span>duration <span class="token punctuation">]</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">,</span>
                level
              <span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// normal state</span>
            output<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">,</span> level<span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">// some sibling task but self has failed and this has stopped</span>
          output<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>style<span class="token punctuation">,</span> ListrDefaultRendererLogLevels<span class="token punctuation">.</span><span class="token constant">COMPLETED_WITH_FAILED_SISTER_TASKS</span><span class="token punctuation">)</span><span class="token punctuation">,</span> level<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// task should not have subtasks since subtasks will handle the error already</span>
      <span class="token comment">// maybe it is a better idea to show the error or skip messages when show subtasks is disabled.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>task<span class="token punctuation">.</span><span class="token function">hasSubtasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;showSubtasks&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// without the collapse option for skip and errors</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>
          task<span class="token punctuation">.</span><span class="token function">hasFailed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;collapseErrors&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span>
          <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;showErrorMessage&#39;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;showSubtasks&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// show skip data if collapsing is not defined</span>
          output<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dump</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> level<span class="token punctuation">,</span> LogLevels<span class="token punctuation">.</span><span class="token constant">FAILED</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>
          task<span class="token punctuation">.</span><span class="token function">isSkipped</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;collapseSkips&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span>
          <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;showSkipMessage&#39;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;showSubtasks&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// show skip data if collapsing is not defined</span>
          output<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dump</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> level<span class="token punctuation">,</span> LogLevels<span class="token punctuation">.</span><span class="token constant">SKIPPED</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// Current Task Output</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token operator">?.</span>output<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isBottomBar</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// data output to bottom bar</span>

          <span class="token comment">// create new if there is no persistent storage created for bottom bar</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>bottom<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> bottomBar <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getTaskOptions</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">.</span>bottomBar

            <span class="token keyword">this</span><span class="token punctuation">.</span>bottom<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ProcessOutputBuffer</span><span class="token punctuation">(</span><span class="token punctuation">{</span> limit<span class="token operator">:</span> <span class="token keyword">typeof</span> bottomBar <span class="token operator">===</span> <span class="token string">&#39;boolean&#39;</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> bottomBar <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

            task<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>ListrTaskEventType<span class="token punctuation">.</span><span class="token constant">OUTPUT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>output<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dump</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> LogLevels<span class="token punctuation">.</span><span class="token constant">OUTPUT</span><span class="token punctuation">,</span> output<span class="token punctuation">)</span>

              <span class="token keyword">this</span><span class="token punctuation">.</span>bottom<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token constant">EOL</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isPending</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hasPersistentOutput</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// keep output if persistent output is set</span>
          output<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dump</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> level<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// render subtasks, some complicated conditionals going on</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>
        <span class="token comment">// check if renderer option is on first</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;showSubtasks&#39;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span>
        <span class="token comment">// if it doesnt have subtasks no need to check</span>
        task<span class="token punctuation">.</span><span class="token function">hasSubtasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
        <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">isPending</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span>
          task<span class="token punctuation">.</span><span class="token function">hasFinalized</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>task<span class="token punctuation">.</span><span class="token function">hasTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span>
          <span class="token comment">// have to be completed and have subtasks</span>
          task<span class="token punctuation">.</span><span class="token function">isCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;collapse&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>task<span class="token punctuation">.</span>subtasks<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>subtask<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> subtask<span class="token punctuation">.</span>rendererOptions<span class="token punctuation">.</span>collapse <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token operator">||</span>
          <span class="token comment">// if any of the subtasks have the collapse option of</span>
          task<span class="token punctuation">.</span>subtasks<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>subtask<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> subtask<span class="token punctuation">.</span>rendererOptions<span class="token punctuation">.</span>collapse <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token operator">||</span>
          <span class="token comment">// if any of the subtasks has failed</span>
          task<span class="token punctuation">.</span>subtasks<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>subtask<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> subtask<span class="token punctuation">.</span><span class="token function">hasFailed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span>
          <span class="token comment">// if any of the subtasks rolled back</span>
          task<span class="token punctuation">.</span>subtasks<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>subtask<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> subtask<span class="token punctuation">.</span><span class="token function">hasRolledBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// set level</span>
        <span class="token keyword">const</span> subtaskLevel <span class="token operator">=</span> <span class="token operator">!</span>task<span class="token punctuation">.</span><span class="token function">hasTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> level <span class="token operator">:</span> level <span class="token operator">+</span> <span class="token number">1</span>

        <span class="token comment">// render the subtasks as in the same way</span>
        <span class="token keyword">const</span> subtaskRender <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderer</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>subtasks<span class="token punctuation">,</span> subtaskLevel<span class="token punctuation">)</span>

        output<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>subtaskRender<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// after task is finished actions</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">hasFinalized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// clean up bottom bar items if not indicated otherwise</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hasPersistentOutput</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>bottom<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> output
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function">renderBottomBar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token comment">// parse through all objects return only the last mentioned items</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bottom<span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bottom<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> output<span class="token punctuation">.</span>all<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>time <span class="token operator">-</span> b<span class="token punctuation">.</span>time<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> output<span class="token punctuation">.</span>entry<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function">renderPrompt</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>prompt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">[</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prompt <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function">dump</span> <span class="token punctuation">(</span>
    task<span class="token operator">:</span> Task<span class="token operator">&lt;</span>ListrContext<span class="token punctuation">,</span> <span class="token keyword">typeof</span> DefaultRenderer<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    level<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
    source<span class="token operator">:</span> LogLevels<span class="token punctuation">.</span><span class="token constant">OUTPUT</span> <span class="token operator">|</span> LogLevels<span class="token punctuation">.</span><span class="token constant">SKIPPED</span> <span class="token operator">|</span> LogLevels<span class="token punctuation">.</span><span class="token constant">FAILED</span> <span class="token operator">=</span> LogLevels<span class="token punctuation">.</span><span class="token constant">OUTPUT</span><span class="token punctuation">,</span>
    data<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">boolean</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> LogLevels<span class="token punctuation">.</span><span class="token constant">OUTPUT</span><span class="token operator">:</span>
        data <span class="token operator">=</span> task<span class="token punctuation">.</span>output

        <span class="token keyword">break</span>

      <span class="token keyword">case</span> LogLevels<span class="token punctuation">.</span><span class="token constant">SKIPPED</span><span class="token operator">:</span>
        data <span class="token operator">=</span> task<span class="token punctuation">.</span>message<span class="token punctuation">.</span>skip

        <span class="token keyword">break</span>

      <span class="token keyword">case</span> LogLevels<span class="token punctuation">.</span><span class="token constant">FAILED</span><span class="token operator">:</span>
        data <span class="token operator">=</span> task<span class="token punctuation">.</span>message<span class="token punctuation">.</span>error

        <span class="token keyword">break</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// dont return anything on some occasions</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">hasTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> source <span class="token operator">===</span> LogLevels<span class="token punctuation">.</span><span class="token constant">FAILED</span> <span class="token operator">&amp;&amp;</span> data <span class="token operator">===</span> task<span class="token punctuation">.</span>title <span class="token operator">||</span> <span class="token keyword">typeof</span> data <span class="token operator">!==</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span> LogLevels<span class="token punctuation">.</span><span class="token constant">OUTPUT</span> <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      data <span class="token operator">=</span> <span class="token function">cleanseAnsi</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span> level <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function">indent</span> <span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> i<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> i <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token function">indent</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">:</span> str<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="utilizing-the-events" tabindex="-1"><a class="header-anchor" href="#utilizing-the-events" aria-hidden="true">#</a> Utilizing the Events</h2><p>Take a look at <a href="/renderer/verbose.html" target="_blank">VerboseRenderer</a> since it is implemented this way.</p><details class="hint-container details"><summary><iconify-icon class="font-icon icon" style="" mode="style" inline icon="material-symbols:code-blocks-outline" width="1em" height="1em"></iconify-icon> Code Example</summary><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ListrVerboseRendererOptions<span class="token punctuation">,</span> ListrVerboseRendererTasks<span class="token punctuation">,</span> VerboseRendererOptions<span class="token punctuation">,</span> VerboseRendererTaskOptions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./renderer.interface&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ListrTaskEventType<span class="token punctuation">,</span> ListrTaskState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@constants&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ListrRenderer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@interfaces&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Task <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@lib&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ListrLogger<span class="token punctuation">,</span> cleanseAnsi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@utils&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">VerboseRenderer</span> <span class="token keyword">implements</span> <span class="token class-name">ListrRenderer</span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/** designates whether this renderer can output to a non-tty console */</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> nonTTY <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token doc-comment comment">/** renderer options for the verbose renderer */</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> rendererOptions<span class="token operator">:</span> VerboseRendererOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
    logTitleChange<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    logger<span class="token operator">:</span> ListrLogger
  <span class="token punctuation">}</span>
  <span class="token doc-comment comment">/** per task options for the verbose renderer */</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> rendererTaskOptions<span class="token operator">:</span> VerboseRendererTaskOptions

  <span class="token keyword">private</span> logger<span class="token operator">:</span> ListrLogger

  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">readonly</span> tasks<span class="token operator">:</span> ListrVerboseRendererTasks<span class="token punctuation">,</span> <span class="token keyword">private</span> <span class="token keyword">readonly</span> options<span class="token operator">:</span> ListrVerboseRendererOptions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>VerboseRenderer<span class="token punctuation">.</span>rendererOptions<span class="token punctuation">,</span>
      loggerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        useIcons<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        fieldOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          prefix<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>timestamp <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>options
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token keyword">this</span></span><span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">logger</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>loggerOptions<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tasks<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// eslint-disable-next-line @typescript-eslint/no-empty-function</span>
  <span class="token keyword">public</span> <span class="token function">end</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token generic-function"><span class="token function">getSelfOrParentOption</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> ListrVerboseRendererOptions<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>task<span class="token operator">:</span> Task<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span> VerboseRenderer<span class="token operator">&gt;</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span><span class="token operator">:</span> ListrVerboseRendererOptions<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> task<span class="token operator">?.</span>rendererOptions<span class="token operator">?.</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token operator">?.</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// verbose renderer multi-level</span>
  <span class="token keyword">private</span> <span class="token function">renderer</span> <span class="token punctuation">(</span>tasks<span class="token operator">:</span> ListrVerboseRendererTasks<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> tasks<span class="token operator">?.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      task<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>ListrTaskEventType<span class="token punctuation">.</span><span class="token constant">SUBTASK</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>subtasks<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderer</span><span class="token punctuation">(</span>subtasks<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      task<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>ListrTaskEventType<span class="token punctuation">.</span><span class="token constant">STATE</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>task<span class="token punctuation">.</span><span class="token function">hasTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">===</span> ListrTaskState<span class="token punctuation">.</span><span class="token constant">STARTED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">started</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">===</span> ListrTaskState<span class="token punctuation">.</span><span class="token constant">COMPLETED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSelfOrParentOption</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token string">&#39;timer&#39;</span><span class="token punctuation">)</span>

          <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">completed</span><span class="token punctuation">(</span>
            task<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
            timer <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span>
              suffix<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token operator">...</span>timer<span class="token punctuation">,</span>
                condition<span class="token operator">:</span> <span class="token operator">!</span><span class="token operator">!</span>task<span class="token punctuation">.</span>message<span class="token operator">?.</span>duration <span class="token operator">&amp;&amp;</span> timer<span class="token punctuation">.</span>condition<span class="token punctuation">,</span>
                args<span class="token operator">:</span> <span class="token punctuation">[</span> task<span class="token punctuation">.</span>message<span class="token punctuation">.</span>duration <span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      task<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>ListrTaskEventType<span class="token punctuation">.</span><span class="token constant">OUTPUT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">output</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      task<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>ListrTaskEventType<span class="token punctuation">.</span><span class="token constant">PROMPT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>prompt<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> cleansed <span class="token operator">=</span> <span class="token function">cleanseAnsi</span><span class="token punctuation">(</span>prompt<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>cleansed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span>cleansed<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token operator">?.</span>logTitleChange <span class="token operator">!==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        task<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>ListrTaskEventType<span class="token punctuation">.</span><span class="token constant">TITLE</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      task<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>ListrTaskEventType<span class="token punctuation">.</span><span class="token constant">MESSAGE</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token operator">?.</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// error message</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">failed</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token operator">?.</span>skip<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// skip message</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">skipped</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>skip<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token operator">?.</span>rollback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// rollback message</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>rollback<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token operator">?.</span>retry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">retry</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token punctuation">{</span> suffix<span class="token operator">:</span> message<span class="token punctuation">.</span>retry<span class="token punctuation">.</span>count<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="using-render-hooks-v2-1-0" tabindex="-1"><a class="header-anchor" href="#using-render-hooks-v2-1-0" aria-hidden="true">#</a> Using Render Hooks <span class="badge info" style="vertical-align:top;"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:tag-text-outline" width="1em" height="1em"></iconify-icon>v2.1.0</span></h2><p>Additional to listening to the events, another singleton hook that come from the root <a href="/api/classes/Listr.html" target="_blank">Listr</a> is <code>events</code>. This provides some generic events like <a href="/api/enums/ListrEventType.html#should-refresh-render" class=""><code>ListrEventType.SHOULD_REFRESH_RENDER</code></a> which can be used to trigger an update on an updating renderer.</p><p>These <code>events</code> can be the third optional variable of a given renderer while using it is always optional.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyAmazingRenderer</span> <span class="token keyword">implements</span> <span class="token class-name">ListrRenderer</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">readonly</span> tasks<span class="token operator">:</span> ListrDefaultRendererTasks<span class="token punctuation">,</span> <span class="token keyword">private</span> <span class="token keyword">readonly</span> options<span class="token operator">:</span> ListrDefaultRendererOptions<span class="token punctuation">,</span> <span class="token keyword">private</span> <span class="token keyword">readonly</span> events<span class="token operator">:</span> ListrEventManager<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>These events can be later listened to trigger an update.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>ListrEventType<span class="token punctuation">.</span><span class="token constant">SHOULD_REFRESH_RENDER</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="using-a-custom-renderer" tabindex="-1"><a class="header-anchor" href="#using-a-custom-renderer" aria-hidden="true">#</a> Using a Custom Renderer</h2><p>You can tell Listr to use your custom renderer by setting the <code>renderer</code> option in <a href="/api/classes/Listr.html" target="_blank">Listr</a> to your custom renderer.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>
  <span class="token comment">// get tasks to be rendered and options of the renderer from the parent</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token keyword">public</span> tasks<span class="token operator">:</span> MyAmazingRendererTasks<span class="token punctuation">,</span> <span class="token keyword">public</span> options<span class="token operator">:</span> MyAmazingRendererOptions<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token comment">// implement custom logic for render functionality</span>
  <span class="token keyword">public</span> <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token comment">// implement custom logic for end functionality</span>
  <span class="token keyword">public</span> <span class="token function">end</span> <span class="token punctuation">(</span>err<span class="token operator">:</span> Error<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tasks <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Listr</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span>
    <span class="token comment">/* Array of task objects */</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> renderer<span class="token operator">:</span> MyAmazingRenderer <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token keyword">await</span> tasks<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/cenk1cenk2/listr2/edit/main/docs/renderer/custom.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><!----><!----></div></footer><nav class="page-nav"><a href="/renderer/test.html" class="nav-link prev" aria-label="Test Renderer"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->Test Renderer</div></a><!----></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">
<img src="https://main.s3.kilic.dev/html/icon.png" height="16px" style="margin-bottom: -2px;" />
<a href="https://kilic.dev" target="_blank">kilic.dev</a>
<br/>
<small>Made with <a href="https://theme-hope.vuejs.press/" target="_blank">VuePress - Mr.Hope Theme</a>.</small>
</div><div class="copyright">
<a href="https://github.com/cenk1cenk2/listr2/blob/master/LICENSE">MIT LICENSE</a>
</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-bf504b0c.js" defer></script>
  </body>
</html>
